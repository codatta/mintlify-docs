---
title: "变更日志"
description: "此日志记录了 2025 年 Codatta 所有更新、修复和新功能。"
---

import { useState, useEffect } from 'react';

<div style={{
  backgroundColor: '#ffffff',
  border: '1px solid #e5e7eb',
  borderRadius: '0.75rem',
  padding: '0.875rem 1.25rem',
  marginBottom: '2rem',
  boxShadow: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)'
}}>
  <div style={{ 
    display: 'flex', 
    alignItems: 'center', 
    flexWrap: 'wrap', 
    gap: '1rem',
    marginBottom: '0.1rem'
  }}>
    <ChangelogFilter />
    <MonthFilter />
  </div>
  
  {(() => {
    const ShowResult = () => {
      const [num, setNum] = useState(0);
      useEffect(() => {
        if (typeof document === 'undefined') return;
        const update = () => {
          try {
            const items = document.querySelectorAll('.changelog-item');
            let count = 0;
            items.forEach(item => {
              if (item.style.display !== 'none') count++;
            });
            setNum(count);
          } catch {}
        };
        update();
        const id = setInterval(update, 2000);
        return () => clearInterval(id);
      }, []);
      return (
        <div style={{
          display: 'flex',
          alignItems: 'center',
          padding: '0.5rem 0.875rem',
          backgroundColor: '#f9fafb',
          borderRadius: '0.5rem',
          fontSize: '0.8125rem',
          color: '#6b7280',
          border: '1px solid #e5e7eb',
          display: 'inline-flex',
          fontWeight: '500',
          letterSpacing: '0.01em'
        }}>
          <span style={{
            display: 'inline-block',
            width: '6px',
            height: '6px',
            borderRadius: '50%',
            backgroundColor: '#10b981',
            marginRight: '0.5rem',
            flexShrink: 0
          }}></span>
          <strong style={{color:'#111827', fontWeight:'600', marginRight: '0.25rem'}}>{num}</strong>
          <span>条结果</span>
        </div>
      );
    };
    return <ShowResult />;
  })()}
</div>

<div className="changelog-item" data-type="core-feature" data-month="dec">

## Dec 04, 2025
---
**引入奖励锁仓机制，管理生态长期激励**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **适用范围：** 我们为 Airdrop、Frontier 等高激励场景的任务引入了可选的「锁仓」奖励规则。
- **核心流程：**
  - **触发：** 在支持此规则的活动结束后，奖励将发放至平台资产余额。
  - **锁仓：** 在资产页将奖励转入智能合约锁定。
  - **释放：** 锁仓期满后，一键领取奖励至钱包。
- **迭代意义：** 此机制是我们激励体系向"精细化管理"演进的关键一步。它针对高激励场景，通过引入流动性调节工具，旨在系统性地平衡短期激励效应与生态长期健康发展。

</div>

<div className="changelog-item" data-type="campaign" data-month="nov">

## Nov 24, 2025
---
**Airdrop二期活动**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：**
  - **数据目标：** 系统性收集学术级验证的物理、金融、多模态领域数据集。
  - **生态目标：** 通过定向激励，为三个新前线模块冷启动高质量数据流
- **活动内容：**
  - **Airdrop Season 2:** 代号"Physics Frontier Challenge"，总奖池 1M $XNY (含3个月锁仓)。
  - **三个Frontier上线：** 同步上线高难度物理问题、加密资产与股票信息、真实世界图像三个数据收集frontier。
    - **Advanced Physics Questions frontier：** 专业物理专业人士提交AI无法正确回答的高难度物理问题
    - **Crypto & Stock Information frontier：** 给AI提供可靠的crypto和股票投资决策相关的信息
    - **Real-world Photo frontier：** 给AI提供标注元数据的真实拍摄图片
- **奖励信息：** 形式：任务奖励（90%奖池）与排行榜激励（10%奖池）结合。
- **活动时间：** 周期：2025/11/24 - 2025/12/08 (UTC)。

</div>

<div className="changelog-item" data-type="core-feature" data-month="nov">

## Nov 05, 2025
---
**账户体系升级：DID 正式上线**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **是什么：** 一项账户升级功能，允许用户在现有平台账户绑定标准 DID（去中心化身份标识）账户。
- **如何运作：**
  - **升级：** 用户可在账户设置中自行升级，将现有账户与链上DID绑定。
  - **关联：** 升级后，该DID将在Codatta平台内作为您的统一主键，自动关联并索引您的所有任务行为、数据贡献、奖励记录等全链路信息。
  - **追溯：** 基于DID，所有历史与未来的链上及链下行为均可被追溯和验证，形成完整的"数据血缘"。
- **为何重要：** 这是构建可信、透明数据经济基础设施的关键一步。DID为每位用户在生态中的贡献提供了唯一、持久且可验证的"数字身份"，是实现贡献精准计量、权属清晰界定和激励公平发放的技术基石。

</div>

<div className="changelog-item" data-type="fixes" data-month="nov">

## Nov 03, 2025
---
**任务系统调整：Crypto Frontier QUEST 模块下线**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **下线范围：**
  - 整个 Crypto Frontier QUEST 模块。
  - 所有相关任务——包括 Submission（提交）、Validation（验证）与 Bounty Hunting（赏金狩猎）——均已关闭。
- **下线原因：**
  - 该模块已在当前产品路线图中完成其预设的生命周期。
  - 此次下线有助于系统结构优化，并为后续功能更新释放资源、重新聚焦。
- **相关说明：**
  - 用户在该模块中的历史贡献记录与已获奖励保持完整，不受影响。
  - 本次调整不涉及其他任何 Frontier 模块的正常运行。

</div>

<div className="changelog-item" data-type="fixes" data-month="oct">

## Oct 24, 2025
---
**Frontier 系统调整：Robotics Frontier 已下线**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **调整内容：**
  - Robotics Frontier 已正式下线。
  - 本次调整仅涉及前端入口，所有历史贡献数据均保持完整且可查询。
- **调整原因：**
  - 该决定是产品持续优化的一部分，旨在将资源与用户注意力集中至当前优先级最高的活跃 Frontier。
  - Robotics Frontier 已完成其预设的探索阶段，下线有助于我们整合资源、聚焦核心任务。
- **相关说明：**
  - 用户在 Robotics Frontier 中的历史贡献与所获奖励已被完整保留，可在其贡献历史记录中随时查看。
  - 此次调整不影响平台其他 Frontier 模块及任何系统功能的正常使用。

</div>

<div className="changelog-item" data-type="optimization" data-month="oct">

## Oct 23, 2025
---
**反垃圾信息增强：每日提交次数限制已实施**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **策略内容：** 已实施一项新的平台级安全策略，以防止任务刷单行为。
- **实施方式：** 针对每项任务，执行可配置的每日提交次数上限。
- **实施目的：** 保护系统资源，确保所有贡献者公平参与，并维持任务生态系统的长期健康与公平

</div>

<div className="changelog-item" data-type="fixes" data-month="oct">

## Oct 20, 2025
---
**Frontier 系统调整：Crypto Frontier 已下线**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **调整内容：**
  - Crypto Frontier 已正式下线。
  - 本次调整仅涉及前端入口关闭，所有历史贡献数据均保持完整且可正常访问。
- **调整原因：**
  - 此决策是我们持续优化产品结构的一部分，旨在将资源与用户关注聚焦于优先级最高的活跃 Frontier 模块。
  - Crypto Frontier 已完成其预设的探索阶段，下线有助于我们集中资源、推进核心目标。
- **相关说明：**
  - 用户在 Crypto Frontier 中的历史贡献与奖励记录已完整保留，可在个人贡献历史中查询。
  - 本次调整不影响其他任何 Frontier 模块及平台功能的正常运行。

</div>

<div className="changelog-item" data-type="optimization" data-month="oct">

## Oct 15, 2025
---
**系统治理：平台黑名单管控功能已上线**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **功能概述：** 平台已实施全新的黑名单管控功能。
- **运作方式：** 指定管理员现可通过应用黑名单规则对恶意账户实施限制。
- **实施目标：** 主动维护平台生态的完整性，保护诚信贡献者，并为所有参与者构建公平、可信的环境。旨在提升平台整体安全性，保障贡献者权益，并维护生态系统的公平性。

</div>

<div className="changelog-item" data-type="campaign" data-month="oct">

## Oct 13, 2025
---
**Airdrop 第一期活动**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：**
  - **数据目标：** 通过高额奖励机制与违规处罚策略，系统性地筛选并收集高质量、结构化的数据，保障数据的有效性与学术价值。
  - **生态目标：** 回馈长期支持的用户，通过五个新前线模块推动平台数据生态的多元发展与健康循环。
- **主要动作：**
  - 正式上线 Airdrop 第一期活动，提供 2.5M 高额 $XNY 与积分奖励，活动为期两周。
  - 同步推出五个全新的 Frontier 数据模块：
    - **Model Comparison：** 支持横向比较不同AI模型的性能指标与业务回报，助力识别最优或融合模型方案。
    - **Spot LLM's Mistakes：** 聚焦识别大语言模型在推理、事实表述、等方面的错误，为模型优化提供数据支撑。
    - **Correct LLM's Mistakes：** 通过收集错误纠正数据，帮助大模型从错误中学习，提升其自我修正与推理能力。
    - **Food Science：** 围绕食品科学、营养功能等方向收集研究数据，助力食品科学领域创新。
    - **Lifelog Canvas：** 支持生活行为、健康状态等数据的跟踪与记录，为相关研究提供基础数据。
- **奖励信息：** 奖励将依据数据提交后的评级得分进行排名，并于活动结束后统一发放。活动全程将监测并处罚恶意提交行为，以保障数据质量。
- **活动时间：** 周期：2025/10/13 - 2025/10/27 (UTC)。

</div>

<div className="changelog-item" data-type="core-feature" data-month="oct">

## Oct 10, 2025
---
**功能上线：Frontier 专属激励活动（Activity）**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **是什么：** 平台现支持为各 Frontier 灵活配置专属奖励活动（Activity），为特定高难度模块提供叠加式高额奖励。
- **如何运作：**
  - 部分 Frontier 任务将额外提供高额 $XNY 或 USDT 活动奖励，该奖励独立于平台基础积分，叠加发放。
  - 活动奖励规则（如额度、周期、目标）由各Frontier独立设定，具体信息见对应Frontier Home页说明。
- **为何重要：** 通过更精准、可配置的激励方式，持续吸引用户参与高价值数据任务，提升数据贡献深度与生态活跃度。

</div>

<div className="changelog-item" data-type="campaign" data-month="sep">

## Sep 26, 2025
---
**活动上线：Codatta Booster Campaign 第三季第4周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过收集多领域可信数据加速AI发展，并推动社区共建去中心化AI知识层。
- **主要动作：** 正式上线第三季第4周活动，入口位于币安钱包Booster页及平台首页（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年9月26日 07:00（UTC）开始。

</div>

<div className="changelog-item" data-type="campaign" data-month="sep">

## Sep 12, 2025
---
**活动上线：Codatta Booster Campaign 第三季第3周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 收集跨领域数据，涵盖生活、机器人、加密资产、模型对比和指纹验证等领域，用于AI训练和验证。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年9月12日 07:00（UTC）– 2025年9月19日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="sep">

## Sep 05, 2025
---
**活动上线：Codatta Booster Campaign 第三季第2周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 收集并标注跨领域数据，涵盖生活、机器人和加密资产等领域，用于AI训练和验证。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年9月5日 07:00（UTC）– 2025年9月12日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="core-feature" data-month="aug">

## Aug 28, 2025
---
**功能上线：用户数据档案**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **是什么：** 在用户信息模块中引入全新的数据档案功能。
- **如何运作：** 通过用户信息 > 数据档案访问，在可视化仪表板中查看您的总提交数、已获奖励和贡献统计。
- **为何重要：** 提供贡献透明度，通过可见的进度跟踪增强参与度，并支持长期参与。

</div>

<div className="changelog-item" data-type="campaign" data-month="aug">

## Aug 22, 2025
---
**活动上线：Codatta Booster Campaign 第三季第1周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 建立跨领域标注数据基础，涵盖生活、机器人和加密资产等领域，用于去中心化AI训练。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年8月22日 07:00（UTC）– 2025年8月29日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="aug">

## Aug 15, 2025
---
**活动上线：Codatta Booster Campaign 第二季第4周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 系统性地标注和扩展特定领域数据集，涵盖食品AI、机器人交互和CEX链上数据，用于去中心化AI训练。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年8月15日 07:00（UTC）– 2025年8月22日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="aug">

## Aug 08, 2025
---
**活动上线：Codatta Booster Campaign 第二季第3周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 系统性地收集四个关键领域的标注数据：项目学习、食品AI判断、机器人标注和CEX数据扩展。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年8月8日 07:00（UTC）– 2025年8月15日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="aug">

## Aug 01, 2025
---
**活动上线：Codatta Booster Campaign 第二季第2周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 收集三个核心领域的标注数据：AI食品模型对比、机器人交互标注和CEX热钱包数据标注。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年8月1日 07:00（UTC）– 2025年8月8日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="jul">

## Jul 24, 2025
---
**活动上线：Codatta Booster Campaign 第二季第1周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过标注真实世界交互数据，验证AI食品分析并增强机器人训练。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY（含锁仓机制），奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年7月24日 07:00（UTC）– 2025年7月31日 07:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="jul">

## Jul 16, 2025
---
**活动上线：Codatta Booster Campaign 第一季第4周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过收集丰富的标注数据深化AI对食品的理解，标注内容不仅包括标签，还包括重量、烹饪方法和卡路里含量。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY，奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年7月16日 13:00（UTC）– 2025年7月23日 13:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="jul">

## Jul 09, 2025
---
**活动上线：Codatta Booster Campaign 第一季第3周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过收集即食食品的标注图像，教授AI对人类饮食习惯的细致理解，关注文化背景和情境相关性，而不仅仅是简单标签。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY，奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年7月9日 13:00（UTC）– 2025年7月16日 13:00（UTC）。

</div>

<div className="changelog-item" data-type="optimization" data-month="jul">

## Jul 07, 2025
---
**功能优化：Quest 系统已恢复**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **是什么：** Quest 系统已完全恢复并重新开放。
- **如何运作：** 系统于2025年6月30日暂时下线，现已全面恢复。
- **为何重要：** 通过架构升级提升系统稳定性和用户体验。

</div>

<div className="changelog-item" data-type="campaign" data-month="jul">

## Jul 02, 2025
---
**活动上线：Codatta Booster Campaign 第一季第2周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过细致的图像标注扩展AI对全球食品文化和偏好的理解，涵盖素食、非素食和混合类别。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY，奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年7月2日 13:00（UTC）– 2025年7月9日 13:00（UTC）。

</div>

<div className="changelog-item" data-type="campaign" data-month="jun">

## Jun 25, 2025
---
**活动上线：Codatta Booster Campaign 第一季第1周**

<br />

<div style={{ marginTop: "1rem" }}></div>

- **活动目标：** 通过收集标注食品数据、社区知识问答和分层激励结构，启动首届活动。
- **主要动作：** 入口位于币安钱包Booster页或平台首页横幅（需Alpha Points ≥ 61）。
- **活动规则：** 总奖池50,000,000 $XNY，奖励于任务完成并通过审核后发放。
- **活动时间：** 2025年6月25日 13:00（UTC）– 2025年7月2日 13:00（UTC）。

</div>

{/* Component definitions - moved to end of file for cleaner code organization */}
export const ChangelogFilter = () => {
  const [activeFilter, setActiveFilter] = useState('all');
  const [isOpen, setIsOpen] = useState(false);
  const [isMenuHovered, setIsMenuHovered] = useState(false);

  useEffect(() => {
    window.activeTypeFilter = activeFilter;
  }, [activeFilter]);

  useEffect(() => {
    const items = document.querySelectorAll('.changelog-item');
    const activeMonth = window.activeMonthFilter || 'all';
    
    items.forEach((item) => {
      const itemType = item.getAttribute('data-type');
      const itemMonth = item.getAttribute('data-month');
      
      const typeMatch = activeFilter === 'all' || itemType === activeFilter;
      const monthMatch = activeMonth === 'all' || itemMonth === activeMonth;
      
      item.style.display = typeMatch && monthMatch ? '' : 'none';
    });
  }, [activeFilter]);

  const filterTypes = [
    { id: 'all', label: '全部', color: '#6b7280', count: 24 },
    { id: 'core-feature', label: '核心功能发布', color: '#16A34A', count: 4 },
    { id: 'optimization', label: '调整与优化', color: '#F59E0B', count: 3 },
    { id: 'fixes', label: '修复与功能下线', color: '#EF4444', count: 3 },
    { id: 'campaign', label: '活动上线', color: '#A855F7', count: 14 }
  ];

  const activeType = filterTypes.find(type => type.id === activeFilter) || filterTypes[0];

  return (
    <div style={{ marginBottom: '2rem', position: 'relative' }}>
      <div
        onClick={() => setIsOpen(!isOpen)}
        style={{
          display: 'inline-flex',
          alignItems: 'center',
          gap: '0.5rem',
          padding: '0.625rem 1rem',
          border: '2px solid #e5e7eb',
          borderRadius: '0.5rem',
          background: 'white',
          cursor: 'pointer',
          fontSize: '0.875rem',
          fontWeight: '500',
          boxShadow: isOpen ? `0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)` : '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
          transition: 'all 0.2s ease',
          userSelect: 'none',
          minWidth: '200px'
        }}
      >
        <span
          style={{
            width: '12px',
            height: '12px',
            borderRadius: '50%',
            backgroundColor: activeType.color,
            display: 'inline-block',
            flexShrink: 0
          }}
        />
        <span style={{ flex: 1 }}>
          {activeType.label} ({activeType.count})
        </span>
        <span
          style={{
            display: 'inline-block',
            width: '0',
            height: '0',
            borderLeft: '5px solid transparent',
            borderRight: '5px solid transparent',
            borderTop: '6px solid #6b7280',
            transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)',
            transition: 'transform 0.2s ease',
            flexShrink: 0
          }}
        />
      </div>
      
      {isOpen && (
        <div
          onMouseEnter={() => setIsMenuHovered(true)}
          onMouseLeave={() => setIsMenuHovered(false)}
          style={{
            position: 'absolute',
            top: '100%',
            left: 0,
            marginTop: '0.5rem',
            backgroundColor: 'white',
            border: `2px solid ${isMenuHovered ? '#9ca3af' : '#e5e7eb'}`,
            borderRadius: '0.5rem',
            boxShadow: isMenuHovered 
              ? '0 10px 15px -3px rgba(0, 0, 0, 0.15), 0 4px 6px -2px rgba(0, 0, 0, 0.1)' 
              : '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
            zIndex: 1000,
            minWidth: '280px',
            overflow: 'hidden',
            transition: 'border-color 0.2s ease, box-shadow 0.2s ease'
          }}
        >
          {filterTypes.map((type) => (
            <div
              key={type.id}
              onClick={() => {
                setActiveFilter(type.id);
                setIsOpen(false);
              }}
              style={{
                padding: '0.75rem 1rem',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'space-between',
                borderBottom: type.id !== filterTypes[filterTypes.length - 1].id ? '1px solid #f3f4f6' : 'none',
                backgroundColor: activeFilter === type.id ? '#f9fafb' : 'white',
                transition: 'background-color 0.15s ease'
              }}
              onMouseEnter={(e) => {
                if (activeFilter !== type.id) {
                  e.currentTarget.style.backgroundColor = '#f3f4f6';
                }
              }}
              onMouseLeave={(e) => {
                if (activeFilter !== type.id) {
                  e.currentTarget.style.backgroundColor = 'white';
                }
              }}
            >
              <span style={{ flex: 1, fontSize: '0.875rem', fontWeight: activeFilter === type.id ? '600' : '400' }}>
                {type.label}
              </span>
              <span style={{ 
                fontSize: '0.75rem', 
                color: '#6b7280',
                fontWeight: '500'
              }}>
                {type.count}
              </span>
            </div>
          ))}
        </div>
      )}
      
      {isOpen && (
        <div
          onClick={() => setIsOpen(false)}
          style={{
            position: 'fixed',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            zIndex: 999,
            backgroundColor: 'transparent'
          }}
        />
      )}
    </div>
  );
};

export const MonthFilter = () => {
  const [activeMonth, setActiveMonth] = useState('all');
  const [isOpen, setIsOpen] = useState(false);
  const [isMenuHovered, setIsMenuHovered] = useState(false);

  useEffect(() => {
    window.activeMonthFilter = activeMonth;
    const event = new Event('monthFilterChange');
    window.dispatchEvent(event);
  }, [activeMonth]);

  useEffect(() => {
    const handleMonthChange = () => {
      const items = document.querySelectorAll('.changelog-item');
      const activeType = window.activeTypeFilter || 'all';
      
      items.forEach((item) => {
        const itemType = item.getAttribute('data-type');
        const itemMonth = item.getAttribute('data-month');
        
        const typeMatch = activeType === 'all' || itemType === activeType;
        const monthMatch = activeMonth === 'all' || itemMonth === activeMonth;
        
        item.style.display = typeMatch && monthMatch ? '' : 'none';
      });
    };

    window.addEventListener('monthFilterChange', handleMonthChange);
    handleMonthChange();
    
    return () => {
      window.removeEventListener('monthFilterChange', handleMonthChange);
    };
  }, [activeMonth]);

  const months = [
    { id: 'all', label: '全部月份', count: 24 },
    { id: 'dec', label: '十二月', count: 1 },
    { id: 'nov', label: '十一月', count: 3 },
    { id: 'oct', label: '十月', count: 6 },
    { id: 'sep', label: '九月', count: 3 },
    { id: 'aug', label: '八月', count: 5 },
    { id: 'jul', label: '七月', count: 5 },
    { id: 'jun', label: '六月', count: 1 }
  ];

  const activeMonthData = months.find(month => month.id === activeMonth) || months[0];

  return (
    <div style={{ marginBottom: '2rem', position: 'relative', marginLeft: '1rem' }}>
      <div
        onClick={() => setIsOpen(!isOpen)}
        style={{
          display: 'inline-flex',
          alignItems: 'center',
          gap: '0.5rem',
          padding: '0.625rem 1rem',
          border: '2px solid #e5e7eb',
          borderRadius: '0.5rem',
          background: 'white',
          cursor: 'pointer',
          fontSize: '0.875rem',
          fontWeight: '500',
          boxShadow: isOpen ? `0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)` : '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
          transition: 'all 0.2s ease',
          userSelect: 'none',
          minWidth: '200px'
        }}
      >
        <span style={{ flex: 1 }}>
          {activeMonthData.label} ({activeMonthData.count})
        </span>
        <span
          style={{
            display: 'inline-block',
            width: '0',
            height: '0',
            borderLeft: '5px solid transparent',
            borderRight: '5px solid transparent',
            borderTop: '6px solid #6b7280',
            transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)',
            transition: 'transform 0.2s ease',
            flexShrink: 0
          }}
        />
      </div>
      
      {isOpen && (
        <div
          onMouseEnter={() => setIsMenuHovered(true)}
          onMouseLeave={() => setIsMenuHovered(false)}
          style={{
            position: 'absolute',
            top: '100%',
            left: 0,
            marginTop: '0.5rem',
            backgroundColor: 'white',
            border: `2px solid ${isMenuHovered ? '#9ca3af' : '#e5e7eb'}`,
            borderRadius: '0.5rem',
            boxShadow: isMenuHovered 
              ? '0 10px 15px -3px rgba(0, 0, 0, 0.15), 0 4px 6px -2px rgba(0, 0, 0, 0.1)' 
              : '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
            zIndex: 1000,
            minWidth: '280px',
            overflow: 'hidden',
            transition: 'border-color 0.2s ease, box-shadow 0.2s ease'
          }}
        >
          {months.map((month) => (
            <div
              key={month.id}
              onClick={() => {
                setActiveMonth(month.id);
                setIsOpen(false);
              }}
              style={{
                padding: '0.75rem 1rem',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'space-between',
                borderBottom: month.id !== months[months.length - 1].id ? '1px solid #f3f4f6' : 'none',
                backgroundColor: activeMonth === month.id ? '#f9fafb' : 'white',
                transition: 'background-color 0.15s ease'
              }}
              onMouseEnter={(e) => {
                if (activeMonth !== month.id) {
                  e.currentTarget.style.backgroundColor = '#f3f4f6';
                }
              }}
              onMouseLeave={(e) => {
                if (activeMonth !== month.id) {
                  e.currentTarget.style.backgroundColor = 'white';
                }
              }}
            >
              <span style={{ flex: 1, fontSize: '0.875rem', fontWeight: activeMonth === month.id ? '600' : '400' }}>
                {month.label}
              </span>
              <span style={{ 
                fontSize: '0.75rem', 
                color: '#6b7280',
                fontWeight: '500'
              }}>
                {month.count}
              </span>
            </div>
          ))}
        </div>
      )}
      
      {isOpen && (
        <div
          onClick={() => setIsOpen(false)}
          style={{
            position: 'fixed',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            zIndex: 999,
            backgroundColor: 'transparent'
          }}
        />
      )}
    </div>
  );
};
